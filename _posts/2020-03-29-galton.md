---
title: "Project: Galton Board Simulation (November 2019)"
date: 2020-03-29
tags: [normal distribution]
header:
  image: "/images/galton.jpg"
excerpt: "Statistics, Normal Distribution, Galton Board"
---

<span style="font-family:Courier;"> At the end of 2019, after completing my second semester of statistics, I was intrigued by how random processes can generate order, and the seemingly ever-present normal distribution. One afternoon of research on the web brought me to find the Galton Board - a device created by Sir Francis Galton in 1876 that perfectly demonstrates this generation of order. Unable to wait for the shipment of a Board to arrive from across the waters, I decided to code a simulation with varying values to test if the central limit theorem still holds.

My results follow below.

You can find the full code for this simulation at its [GitHub page](https://github.com/nuclearcheesecake/galton-board), but I will explain the finer details of the code here.

But first, some statistics is required...</span>

# Quick reference to topics needed

Combinatorics: https://en.wikipedia.org/wiki/Combinatorics
The Bernoulli and Binomial Distributions: https://en.wikipedia.org/wiki/Binomial_distribution
The Central Limit Theorem: https://en.wikipedia.org/wiki/Central_limit_theorem

# Theory: The Galton Board and Normal Distribution

As defined by [Wikipedia](https://en.wikipedia.org/wiki/Central_limit_theorem), the **Central Limit Theorem** states that "in some situations, when independent random variables are added, their properly normalized sum tends toward a normal distribution (informally a _bell curve_) even if the original variables themselves are not normally distributed".

The Galton Board contains hundreds of tiny spheres, and we will consider each separately as the subject of its own statistical trial. If we consider 11 **levels** (or layers) of pegs, it means that each trial will consist out of 11 binary **choices**, to go either left or right when it reaches a peg. The probability on each choice is equal (p = 0,5) and it is the same on each level. We can use Pascal's triangle to visualise its path mathematically:

![alt text](/images/pascal.png)
(source: https://commons.wikimedia.org/wiki/File:Pascal_triangle.svg)

Above, the values describe the number of paths towards a single peg, and in the final level, to a single **bin** (the final resting place of a single ball). Therefore it is more likely to land in the bin with 252 possible paths leading to it, than it is to land in the outer bins, that consists of either all choices equalling "left" or all equalling "right". Even in the simulation, when the number or levels increases, and as it becomes more unlikely for the spheres to fall in the outer bins, they almost always remain empty!
See: https://www.youtube.com/watch?v=mzbAVFIs7sE

This gives an intuitive understanding of why there are more spheres "heaping up" in the middle, creating the normal distribution. But in a mathematical sense we can say the following:
The probability distribution that describes the "choices" that each ball makes, is called the **Binomial distribution**. If we consider each "right" to be a success and each left a fail (thus each peg is a **Bernoulli Trial**), the entire path down can be described in how many successes the sphere made (or mapping how many times it went right).

Now that we grasp each binomial trial on its own, landing each sphere in a single bin, we can come to the real magic: considering all X trials, be it 500 or 1 000 000! It is in this step where the normal distribution appears, considering all X independent trials: Even though individually the spheres are binomially distributed, after X trials, the shape of the curve they make will approximate a Normal Curve. And according to the CLT, the more balls we use (and thus the more trials we add), the more "normal" it will become. That is demonstrated below, using the _totalNumOfTests_ variable.

A second expansion is that of the _X_ variable, where the number of levels can be increased.

# Practical: The C++ simulation
